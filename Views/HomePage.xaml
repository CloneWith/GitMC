<Page
    Background="{ThemeResource LayerFillColorDefaultBrush}"
    mc:Ignorable="d"
    x:Class="GitMC.Views.HomePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:media="using:Microsoft.UI.Xaml.Media"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <ScrollViewer>
        <Grid Margin="24,0,24,24">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="Auto" />
            </Grid.RowDefinitions>

            <!--  Compact Header Section  -->
            <StackPanel
                Grid.Row="0"
                HorizontalAlignment="Center"
                Margin="0,24,0,16">
                <!--  App Icon  -->
                <Border
                    Background="#f3f3f3"
                    CornerRadius="8"
                    Height="80"
                    HorizontalAlignment="Center"
                    Margin="0,0,0,16"
                    Width="80">
                    <StackPanel Padding="10">
                        <ImageIcon Source="../Assets/Icons/mcIcon.png" />
                    </StackPanel>
                </Border>

                <TextBlock
                    FontSize="22"
                    FontWeight="SemiBold"
                    HorizontalAlignment="Center"
                    Margin="0,0,0,8"
                    Text="Welcome to Minecraft Save Manager" />

                <TextBlock
                    FontSize="13"
                    Foreground="#6B6B6B"
                    HorizontalAlignment="Center"
                    Margin="0,0,0,0"
                    Text="The powerful tool that brings Git version control to your Minecraft worlds." />
            </StackPanel>

            <!--  Action Buttons  -->
            <StackPanel
                Grid.Row="1"
                HorizontalAlignment="Center"
                Margin="0,0,0,32"
                Orientation="Horizontal">
                <Button
                    Click="AddSaveButton_Click"
                    Margin="0,0,16,0"
                    Padding="16,12"
                    Style="{StaticResource AccentButtonStyle}"
                    x:Name="AddFirstSaveButton">
                    <StackPanel Orientation="Horizontal">
                        <FontIcon
                            FontSize="14"
                            Glyph="&#xE710;"
                            Margin="0,0,8,0" />
                        <TextBlock Text="Add Your First Save" />
                    </StackPanel>
                </Button>

                <Button
                    Click="SettingsButton_Click"
                    Padding="16,12"
                    x:Name="ConfigureSettingsButton">
                    <StackPanel Orientation="Horizontal">
                        <FontIcon
                            FontSize="14"
                            Glyph="&#xE713;"
                            Margin="0,0,8,0" />
                        <TextBlock Text="Configure Settings" />
                    </StackPanel>
                </Button>
            </StackPanel>

            <!--  Main Content Grid  -->
            <Grid Grid.Row="2" Margin="24,0,24,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="32" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>

                <!--  Left Panel - Getting Started  -->
                <Border
                    Background="#FAFAFA"
                    BorderBrush="#E1E1E1"
                    BorderThickness="1"
                    CornerRadius="12"
                    Grid.Column="0"
                    Padding="24">
                    <StackPanel>
                        <StackPanel Margin="0,0,0,24" Orientation="Horizontal">
                            <FontIcon
                                FontSize="18"
                                Glyph="&#xE8FD;"
                                Margin="0,0,12,0" />
                            <TextBlock
                                FontSize="18"
                                FontWeight="SemiBold"
                                Text="Getting Started" />
                        </StackPanel>

                        <!--  Timeline Container  -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="48" />
                                <ColumnDefinition Width="16" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <!--  Vertical Timeline Line  -->
                            <Rectangle
                                Fill="#E1E1E1"
                                Grid.Column="0"
                                Grid.Row="0"
                                Grid.RowSpan="3"
                                HorizontalAlignment="Center"
                                Margin="0,0,0,16"
                                Width="2" />

                            <!--  Step 1 Container  -->
                            <Grid
                                Grid.Column="0"
                                Grid.Row="0"
                                Height="48"
                                Width="48">
                                <Border
                                    Background="#fafafa"
                                    CornerRadius="24"
                                    Height="48"
                                    Width="48" />
                                <Border
                                    Background="#0078D4"
                                    CornerRadius="16"
                                    Height="32"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Width="32">
                                    <TextBlock
                                        FontWeight="SemiBold"
                                        Foreground="White"
                                        HorizontalAlignment="Center"
                                        Text="1"
                                        VerticalAlignment="Center" />
                                </Border>
                            </Grid>

                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="0"
                                Margin="0,0,0,32"
                                VerticalAlignment="Center">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="Configure Your Setup" />
                                <TextBlock
                                    Foreground="#6B6B6B"
                                    Margin="0,0,0,12"
                                    Text="Set up your Git identity and configure workspace directories for optimal performance."
                                    TextWrapping="Wrap" />
                                <Button
                                    Click="SettingsButton_Click"
                                    HorizontalAlignment="Left"
                                    Padding="12,8"
                                    x:Name="OpenSettingsButton">
                                    <StackPanel Orientation="Horizontal">
                                        <FontIcon
                                            FontSize="12"
                                            Glyph="&#xE713;"
                                            Margin="0,0,6,0" />
                                        <TextBlock Text="Open Settings" />
                                    </StackPanel>
                                </Button>
                            </StackPanel>

                            <!--  Step 2 Container  -->
                            <Grid
                                Grid.Column="0"
                                Grid.Row="1"
                                Height="48"
                                Width="48">
                                <Border
                                    Background="#fafafa"
                                    CornerRadius="24"
                                    Height="48"
                                    Width="48" />
                                <Border
                                    Background="#D1D1D1"
                                    CornerRadius="16"
                                    Height="32"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Width="32">
                                    <TextBlock
                                        FontWeight="SemiBold"
                                        HorizontalAlignment="Center"
                                        Text="2"
                                        VerticalAlignment="Center" />
                                </Border>
                            </Grid>

                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="1"
                                Margin="0,0,0,32"
                                VerticalAlignment="Center">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="Add Your First World" />
                                <TextBlock
                                    Foreground="#6B6B6B"
                                    Margin="0,0,0,12"
                                    Text="Import an existing Minecraft world or create a new one to start tracking with Git."
                                    TextWrapping="Wrap" />
                                <Button
                                    Click="AddSaveButton_Click"
                                    HorizontalAlignment="Left"
                                    Padding="12,8"
                                    x:Name="AddSaveStepButton">
                                    <StackPanel Orientation="Horizontal">
                                        <FontIcon
                                            FontSize="12"
                                            Glyph="&#xE710;"
                                            Margin="0,0,6,0" />
                                        <TextBlock Text="Add Save" />
                                    </StackPanel>
                                </Button>
                            </StackPanel>

                            <!--  Step 3 Container  -->
                            <Grid
                                Grid.Column="0"
                                Grid.Row="2"
                                Height="48"
                                Width="48">
                                <Border
                                    Background="#fafafa"
                                    CornerRadius="24"
                                    Height="48"
                                    Width="48" />
                                <Border
                                    Background="#D1D1D1"
                                    CornerRadius="16"
                                    Height="32"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Width="32">
                                    <TextBlock
                                        FontWeight="SemiBold"
                                        HorizontalAlignment="Center"
                                        Text="3"
                                        VerticalAlignment="Center" />
                                </Border>
                            </Grid>

                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="2"
                                VerticalAlignment="Center">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="Start Building!" />
                                <TextBlock
                                    Foreground="#6B6B6B"
                                    Text="Begin creating and the app will automatically track your changes, create backups, and manage versions."
                                    TextWrapping="Wrap" />
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!--  Right Panel - System Status  -->
                <Border
                    Background="#FAFAFA"
                    BorderBrush="#E1E1E1"
                    BorderThickness="1"
                    CornerRadius="12"
                    Grid.Column="2"
                    Padding="24">
                    <StackPanel>
                        <TextBlock
                            FontSize="18"
                            FontWeight="SemiBold"
                            Margin="0,0,0,24"
                            Text="System Status" />

                        <!--  Git Installation  -->
                        <StackPanel Margin="0,0,0,16" Orientation="Horizontal">
                            <Border
                                Background="#107C10"
                                CornerRadius="10"
                                Height="20"
                                Margin="0,0,12,0"
                                Width="20">
                                <FontIcon
                                    FontSize="10"
                                    Foreground="White"
                                    Glyph="&#xE73E;"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center" />
                            </Border>
                            <StackPanel>
                                <TextBlock FontWeight="SemiBold" Text="Git Installation" />
                                <TextBlock
                                    FontSize="12"
                                    Foreground="#6B6B6B"
                                    Text="Git 2.41.0 detected" />
                            </StackPanel>
                        </StackPanel>

                        <!--  Minecraft Installation  -->
                        <StackPanel Margin="0,0,0,16" Orientation="Horizontal">
                            <Border
                                Background="#107C10"
                                CornerRadius="10"
                                Height="20"
                                Margin="0,0,12,0"
                                Width="20">
                                <FontIcon
                                    FontSize="10"
                                    Foreground="White"
                                    Glyph="&#xE73E;"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center" />
                            </Border>
                            <StackPanel>
                                <TextBlock FontWeight="SemiBold" Text="Minecraft Installation" />
                                <TextBlock
                                    FontSize="12"
                                    Foreground="#6B6B6B"
                                    Text="Found at default location" />
                            </StackPanel>
                        </StackPanel>

                        <!--  Workspace Directory  -->
                        <StackPanel Margin="0,0,0,16" Orientation="Horizontal">
                            <Border
                                Background="#FF8C00"
                                CornerRadius="10"
                                Height="20"
                                Margin="0,0,12,0"
                                Width="20">
                                <FontIcon
                                    FontSize="10"
                                    Foreground="White"
                                    Glyph="&#xE7BA;"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center" />
                            </Border>
                            <StackPanel>
                                <TextBlock FontWeight="SemiBold" Text="Workspace Directory" />
                                <TextBlock
                                    FontSize="12"
                                    Foreground="#6B6B6B"
                                    Text="Not configured" />
                            </StackPanel>
                        </StackPanel>

                        <!--  Git Identity  -->
                        <StackPanel Margin="0,0,0,24" Orientation="Horizontal">
                            <Border
                                Background="#FF8C00"
                                CornerRadius="10"
                                Height="20"
                                Margin="0,0,12,0"
                                Width="20">
                                <FontIcon
                                    FontSize="10"
                                    Foreground="White"
                                    Glyph="&#xE7BA;"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center" />
                            </Border>
                            <StackPanel>
                                <TextBlock FontWeight="SemiBold" Text="Git Identity" />
                                <TextBlock
                                    FontSize="12"
                                    Foreground="#6B6B6B"
                                    Text="Name and email not set" />
                            </StackPanel>
                        </StackPanel>

                        <Button
                            Click="SettingsButton_Click"
                            HorizontalAlignment="Stretch"
                            Padding="12,8"
                            Style="{StaticResource AccentButtonStyle}"
                            x:Name="FixConfigurationButton">
                            <StackPanel HorizontalAlignment="Center" Orientation="Horizontal">
                                <FontIcon
                                    FontSize="14"
                                    Glyph="&#xE713;"
                                    Margin="0,0,6,0" />
                                <TextBlock Text="Fix Configuration Issues" />
                            </StackPanel>
                        </Button>
                    </StackPanel>
                </Border>
            </Grid>

            <!--  Bottom Toggle  -->
            <Border
                Grid.Row="3"
                HorizontalAlignment="Right"
                Margin="24,24,24,0">
                <ToggleButton Padding="16,8" x:Name="FirstTimeToggle">
                    <StackPanel Orientation="Horizontal">
                        <FontIcon
                            FontSize="14"
                            Glyph="&#xE897;"
                            Margin="0,0,8,0" />
                        <TextBlock Text="Toggle: First Time" />
                    </StackPanel>
                </ToggleButton>
            </Border>

            <!--  Loading Panel (Hidden by default)  -->
            <Grid
                Background="#80000000"
                Grid.RowSpan="4"
                Visibility="Collapsed"
                x:Name="LoadingPanel">
                <Border
                    Background="White"
                    CornerRadius="8"
                    HorizontalAlignment="Center"
                    Padding="32"
                    VerticalAlignment="Center">
                    <StackPanel>
                        <ProgressBar
                            Height="8"
                            IsIndeterminate="False"
                            Margin="0,0,0,16"
                            Width="200"
                            x:Name="LoadingProgressRing" />
                        <TextBlock HorizontalAlignment="Center" Text="Analyzing save folder..." />
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>
    </ScrollViewer>
</Page>
