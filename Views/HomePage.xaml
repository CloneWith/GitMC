<Page
    Background="{ThemeResource LayerFillColorDefaultBrush}"
    mc:Ignorable="d"
    x:Class="GitMC.Views.HomePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:media="using:Microsoft.UI.Xaml.Media"
    xmlns:local="using:GitMC.Extensions"
    xmlns:converters="using:GitMC.Converters"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Page.Resources>
        <converters:LocalizationConverter x:Key="LocalizationConverter" />
    </Page.Resources>

    <ScrollViewer>
        <Grid Margin="24,0,24,24">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <!--  Compact Header Section  -->
            <StackPanel
                Grid.Row="0"
                HorizontalAlignment="Center"
                Margin="0,24,0,16">
                <!--  Horizontal Layout: Icon + Text  -->
                <Grid HorizontalAlignment="Center">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto" />
                        <ColumnDefinition Width="16" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <!--  App Icon  -->
                    <Border
                        Background="#f3f3f3"
                        CornerRadius="12"
                        Grid.Column="0"
                        Height="80"
                        VerticalAlignment="Top"
                        Width="80">
                        <StackPanel Padding="8">
                            <ImageIcon Source="../Assets/Icons/mcIcon.png" />
                        </StackPanel>
                    </Border>

                    <!--  Title and Description  -->
                    <StackPanel Grid.Column="2" VerticalAlignment="Center">
                        <TextBlock
                            FontSize="26"
                            FontWeight="SemiBold"
                            Margin="0,0,0,4"
                            Text="{local:Localize Key=Welcome_Title}" />
                        <TextBlock
                            FontSize="18"
                            Foreground="#6B6B6B"
                            Text="{local:Localize Key=App_Description}" />
                    </StackPanel>
                </Grid>
            </StackPanel>

            <!--  Main Content Grid  -->
            <Grid Grid.Row="1" Margin="24,0,24,0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*" />
                    <ColumnDefinition Width="32" />
                    <ColumnDefinition Width="1.2*" />
                </Grid.ColumnDefinitions>

                <!--  Left Panel - Getting Started  -->
                <Border
                    Background="#FAFAFA"
                    BorderBrush="#E1E1E1"
                    BorderThickness="1"
                    CornerRadius="12"
                    Grid.Column="0"
                    Padding="24">
                    <StackPanel>
                        <StackPanel Margin="0,0,0,24" Orientation="Horizontal">
                            <FontIcon
                                FontSize="18"
                                Glyph="&#xE8FD;"
                                Margin="0,0,12,0" />
                            <TextBlock
                                FontSize="18"
                                FontWeight="SemiBold"
                                Text="{local:Localize Key=Welcome_GettingStarted}" />
                        </StackPanel>

                        <!--  Timeline Container  -->
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="48" />
                                <ColumnDefinition Width="16" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                                <RowDefinition Height="Auto" />
                            </Grid.RowDefinitions>

                            <!--  Vertical Timeline Line  -->
                            <Rectangle
                                Fill="#E1E1E1"
                                Grid.Column="0"
                                Grid.Row="0"
                                Grid.RowSpan="5"
                                HorizontalAlignment="Center"
                                Margin="0,0,0,16"
                                Width="2" />

                            <!--  Step 1: Configure GitMC Language  -->
                            <Grid
                                Grid.Column="0"
                                Grid.Row="0"
                                Height="48"
                                Width="48">
                                <Border
                                    Background="#fafafa"
                                    CornerRadius="24"
                                    Height="48"
                                    Width="48" />
                                <Border
                                    Background="#0078D4"
                                    CornerRadius="16"
                                    Height="32"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Width="32">
                                    <TextBlock
                                        FontWeight="SemiBold"
                                        Foreground="White"
                                        HorizontalAlignment="Center"
                                        Text="1"
                                        VerticalAlignment="Center" />
                                </Border>
                            </Grid>

                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="0"
                                Margin="0,0,0,32"
                                VerticalAlignment="Center">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="Configure GitMC" />
                                <TextBlock
                                    Foreground="#6B6B6B"
                                    Margin="0,0,0,12"
                                    Text="Not your language? Decide GitMC display language at settings."
                                    TextWrapping="Wrap" />
                                <Button
                                    Click="LanguageSettingsButton_Click"
                                    HorizontalAlignment="Left"
                                    Padding="12,8"
                                    x:Name="LanguageSettingsButton">
                                    <StackPanel Orientation="Horizontal">
                                        <FontIcon
                                            FontSize="12"
                                            Glyph="&#xE774;"
                                            Margin="0,0,6,0" />
                                        <TextBlock Text="Language Settings" />
                                    </StackPanel>
                                </Button>
                            </StackPanel>

                            <!--  Step 2: Install Git  -->
                            <Grid
                                Grid.Column="0"
                                Grid.Row="1"
                                Height="48"
                                Width="48">
                                <Border
                                    Background="#fafafa"
                                    CornerRadius="24"
                                    Height="48"
                                    Width="48" />
                                <Border
                                    Background="#107C10"
                                    CornerRadius="16"
                                    Height="32"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Width="32">
                                    <FontIcon
                                        FontSize="14"
                                        Foreground="White"
                                        Glyph="&#xE73E;"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center" />
                                </Border>
                            </Grid>

                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="1"
                                Margin="0,0,0,32"
                                VerticalAlignment="Center">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="Install Git" />
                                <!-- Git Found State -->
                                <TextBlock
                                    Foreground="#107C10"
                                    Margin="0,0,0,4"
                                    Text="✓ Git 2.41.0 has been installed and ready to use."
                                    TextWrapping="Wrap"
                                    x:Name="GitFoundText" />
                                <!-- Git Not Found State (Hidden by default) -->
                                <StackPanel x:Name="GitNotFoundPanel" Visibility="Collapsed">
                                    <TextBlock
                                        Foreground="#D13438"
                                        Margin="0,0,0,12"
                                        Text="No Git is found on your PC. Download Git by clicking the button below:"
                                        TextWrapping="Wrap" />
                                    <Button
                                        Click="DownloadGitButton_Click"
                                        HorizontalAlignment="Left"
                                        Padding="12,8"
                                        Style="{StaticResource AccentButtonStyle}"
                                        x:Name="DownloadGitButton">
                                        <StackPanel Orientation="Horizontal">
                                            <FontIcon
                                                FontSize="12"
                                                Glyph="&#xE896;"
                                                Margin="0,0,6,0" />
                                            <TextBlock Text="Download Git" />
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </StackPanel>

                            <!--  Step 3: Configure Git Identity  -->
                            <Grid
                                Grid.Column="0"
                                Grid.Row="2"
                                Height="48"
                                Width="48">
                                <Border
                                    Background="#fafafa"
                                    CornerRadius="24"
                                    Height="48"
                                    Width="48" />
                                <Border
                                    Background="#FF8C00"
                                    CornerRadius="16"
                                    Height="32"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Width="32">
                                    <TextBlock
                                        FontWeight="SemiBold"
                                        Foreground="White"
                                        HorizontalAlignment="Center"
                                        Text="3"
                                        VerticalAlignment="Center" />
                                </Border>
                            </Grid>

                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="2"
                                Margin="0,0,0,32"
                                VerticalAlignment="Center">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="Configure Git" />
                                <TextBlock
                                    Foreground="#6B6B6B"
                                    Margin="0,0,0,12"
                                    Text="In order to make your save works with version control, you have to provide your credentials. If you wish to connect to any code hosting platform, fill in your platform email and username here."
                                    TextWrapping="Wrap" />
                                <Button
                                    Click="GitConfigButton_Click"
                                    HorizontalAlignment="Left"
                                    Padding="12,8"
                                    x:Name="GitConfigButton">
                                    <StackPanel Orientation="Horizontal">
                                        <FontIcon
                                            FontSize="12"
                                            Glyph="&#xE713;"
                                            Margin="0,0,6,0" />
                                        <TextBlock Text="Configure Git" />
                                    </StackPanel>
                                </Button>
                            </StackPanel>

                            <!--  Step 4: Connect to Code-Hosting Platform  -->
                            <Grid
                                Grid.Column="0"
                                Grid.Row="3"
                                Height="48"
                                Width="48">
                                <Border
                                    Background="#fafafa"
                                    CornerRadius="24"
                                    Height="48"
                                    Width="48" />
                                <Border
                                    Background="#D1D1D1"
                                    CornerRadius="16"
                                    Height="32"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Width="32">
                                    <TextBlock
                                        FontWeight="SemiBold"
                                        HorizontalAlignment="Center"
                                        Text="4"
                                        VerticalAlignment="Center" />
                                </Border>
                            </Grid>

                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="3"
                                Margin="0,0,0,32"
                                VerticalAlignment="Center">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="Connect to Code-Hosting Platform" />
                                <TextBlock
                                    Foreground="#6B6B6B"
                                    Margin="0,0,0,12"
                                    Text="Save and sync your save on cloud, you can choose which platform to use, or use GitMC locally:"
                                    TextWrapping="Wrap" />
                                
                                <!-- Platform Selector -->
                                <StackPanel Margin="0,0,0,12">
                                    <Grid>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*" />
                                            <ColumnDefinition Width="*" />
                                        </Grid.ColumnDefinitions>
                                        
                                        <RadioButton
                                            Grid.Column="0"
                                            Content="GitHub"
                                            GroupName="PlatformGroup"
                                            IsChecked="True"
                                            Margin="0,0,8,0"
                                            x:Name="GitHubRadio" />
                                        <RadioButton
                                            Grid.Column="1"
                                            Content="Self-Hosting"
                                            GroupName="PlatformGroup"
                                            x:Name="SelfHostingRadio" />
                                    </Grid>
                                </StackPanel>

                                <!-- Action Buttons -->
                                <StackPanel Orientation="Horizontal">
                                    <Button
                                        Click="ConnectPlatformButton_Click"
                                        HorizontalAlignment="Left"
                                        Margin="0,0,8,0"
                                        Padding="12,8"
                                        Style="{StaticResource AccentButtonStyle}"
                                        x:Name="ConnectPlatformButton">
                                        <StackPanel Orientation="Horizontal">
                                            <FontIcon
                                                FontSize="12"
                                                Glyph="&#xE8A7;"
                                                Margin="0,0,6,0" />
                                            <TextBlock Text="Connect" />
                                        </StackPanel>
                                    </Button>
                                    <Button
                                        Click="UseLocallyButton_Click"
                                        HorizontalAlignment="Left"
                                        Padding="12,8"
                                        x:Name="UseLocallyButton">
                                        <StackPanel Orientation="Horizontal">
                                            <FontIcon
                                                FontSize="12"
                                                Glyph="&#xE8B7;"
                                                Margin="0,0,6,0" />
                                            <TextBlock Text="Use GitMC Locally" />
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </StackPanel>

                            <!--  Step 5: Add Your Save  -->
                            <Grid
                                Grid.Column="0"
                                Grid.Row="4"
                                Height="48"
                                Width="48">
                                <Border
                                    Background="#fafafa"
                                    CornerRadius="24"
                                    Height="48"
                                    Width="48" />
                                <Border
                                    Background="#D1D1D1"
                                    CornerRadius="16"
                                    Height="32"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center"
                                    Width="32">
                                    <TextBlock
                                        FontWeight="SemiBold"
                                        HorizontalAlignment="Center"
                                        Text="5"
                                        VerticalAlignment="Center" />
                                </Border>
                            </Grid>

                            <StackPanel
                                Grid.Column="2"
                                Grid.Row="4"
                                VerticalAlignment="Center">
                                <TextBlock
                                    FontWeight="SemiBold"
                                    Margin="0,0,0,4"
                                    Text="Add Your Save" />
                                <TextBlock
                                    Foreground="#6B6B6B"
                                    Margin="0,0,0,12"
                                    Text="Now you can manage your save with versioning control! Add your first save or add a Minecraft version folder below:"
                                    TextWrapping="Wrap" />
                                
                                <!-- Add Save Buttons -->
                                <StackPanel Orientation="Horizontal">
                                    <Button
                                        Click="AddSaveButton_Click"
                                        HorizontalAlignment="Left"
                                        Margin="0,0,8,0"
                                        Padding="12,8"
                                        Style="{StaticResource AccentButtonStyle}"
                                        x:Name="AddSaveButton">
                                        <StackPanel Orientation="Horizontal">
                                            <FontIcon
                                                FontSize="12"
                                                Glyph="&#xE710;"
                                                Margin="0,0,6,0" />
                                            <TextBlock Text="Add Save" />
                                        </StackPanel>
                                    </Button>
                                    <Button
                                        Click="AddVersionFolderButton_Click"
                                        HorizontalAlignment="Left"
                                        Padding="12,8"
                                        x:Name="AddVersionFolderButton">
                                        <StackPanel Orientation="Horizontal">
                                            <FontIcon
                                                FontSize="12"
                                                Glyph="&#xE8B7;"
                                                Margin="0,0,6,0" />
                                            <TextBlock Text="Add Version Folder" />
                                        </StackPanel>
                                    </Button>
                                </StackPanel>
                            </StackPanel>
                        </Grid>
                    </StackPanel>
                </Border>

                <!--  Right Panel - System Status  -->
                <Border
                    Background="#FAFAFA"
                    BorderBrush="#E1E1E1"
                    BorderThickness="1"
                    CornerRadius="12"
                    Grid.Column="2"
                    Padding="20">
                    <StackPanel>
                        <TextBlock
                            FontSize="16"
                            FontWeight="SemiBold"
                            Margin="0,0,0,16"
                            Text="Onboard checklist" />

                        <!--  Git Installation  -->
                        <StackPanel Margin="0,0,0,12" Orientation="Horizontal">
                            <Border
                                Background="#107C10"
                                CornerRadius="8"
                                Height="16"
                                Margin="0,0,8,0"
                                Width="16">
                                <FontIcon
                                    FontSize="8"
                                    Foreground="White"
                                    Glyph="&#xE73E;"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center" />
                            </Border>
                            <StackPanel>
                                <TextBlock
                                    FontSize="13"
                                    FontWeight="SemiBold"
                                    Text="Git Installation" />
                                <TextBlock
                                    FontSize="11"
                                    Foreground="#6B6B6B"
                                    Text="v2.41.0 ready" />
                            </StackPanel>
                        </StackPanel>

                        <!--  Git Identity  -->
                        <StackPanel Margin="0,0,0,16" Orientation="Horizontal">
                            <Border
                                Background="#FF8C00"
                                CornerRadius="8"
                                Height="16"
                                Margin="0,0,8,0"
                                Width="16">
                                <FontIcon
                                    FontSize="8"
                                    Foreground="White"
                                    Glyph="&#xE7BA;"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center" />
                            </Border>
                            <StackPanel>
                                <TextBlock
                                    FontSize="13"
                                    FontWeight="SemiBold"
                                    Text="Git Identity" />
                                <TextBlock
                                    FontSize="11"
                                    Foreground="#6B6B6B"
                                    Text="Not configured" />
                            </StackPanel>
                        </StackPanel>

                        <!--  Workspace  -->
                        <StackPanel Margin="0,0,0,0" Orientation="Horizontal">
                            <Border
                                Background="#FF8C00"
                                CornerRadius="8"
                                Height="16"
                                Margin="0,0,8,0"
                                Width="16">
                                <FontIcon
                                    FontSize="8"
                                    Foreground="White"
                                    Glyph="&#xE8B7;"
                                    HorizontalAlignment="Center"
                                    VerticalAlignment="Center" />
                            </Border>
                            <StackPanel>
                                <TextBlock
                                    FontSize="13"
                                    FontWeight="SemiBold"
                                    Text="Connect to code hosting platform" />
                                <TextBlock
                                    FontSize="11"
                                    Foreground="#6B6B6B"
                                    Text="Not connected" />
                            </StackPanel>
                        </StackPanel>
                    </StackPanel>
                </Border>
            </Grid>

            <!--  Loading Panel (Hidden by default)  -->
            <Grid
                Background="#40000000"
                Grid.RowSpan="3"
                Visibility="Collapsed"
                x:Name="LoadingPanel">
                <Border
                    Background="White"
                    CornerRadius="8"
                    HorizontalAlignment="Center"
                    Padding="32"
                    VerticalAlignment="Center">
                    <StackPanel>
                        <ProgressBar
                            Height="8"
                            IsIndeterminate="False"
                            Margin="0,0,0,16"
                            Width="200"
                            x:Name="LoadingProgressRing" />
                        <TextBlock HorizontalAlignment="Center" Text="Analyzing save folder..." />
                    </StackPanel>
                </Border>
            </Grid>
        </Grid>
    </ScrollViewer>
</Page>
